<div class="container">
  <!-- Left Section: Patient Info & Report -->
  <div class="left-section card">
    <h2 class="section-title">Patient Information</h2>

    <div class="grid-form">
      <div class="grid-row">
        <div class="grid-cell">
          <label for="name">Name</label>
          <input id="name" type="text" [(ngModel)]="patientDetails.name" />
        </div>
        <div class="grid-cell">
          <label for="age">Age</label>
          <input id="age" type="number" [(ngModel)]="patientDetails.age" />
        </div>
      </div>

      <div class="grid-row">
        <div class="grid-cell">
          <label for="refby">Referred By</label>
          <input id="refby" type="text" [(ngModel)]="patientDetails.refBy" />
        </div>
        <div class="grid-cell">
          <label for="gender">Gender</label>
          <select id="gender" [(ngModel)]="patientDetails.gender">
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
          </select>
        </div>
      </div>
    </div>

    <div class="card light-card test-section">
      <div >
        <label *ngIf="!selectedTest" for="testType">Select Test</label>
        <select id="selectedTest" [(ngModel)]="selectedTest" (ngModelChange)="selectTest()">
          <option *ngFor="let test of testNames" [value]="test.name">{{ test.label }}</option>
        </select>
      </div>

      <!-- <div *ngIf="selectedTest">
        <h3 class="test-title">{{ selectedTestObject.label }}</h3>
        <button class="link-button" (click)="selectedTest = null">Change Test</button>
      </div> -->

      <div class="grid-report" *ngIf="selectedTest">
        <div class="report-item" *ngFor="let test of selectedTestObject.tests">
          <span>{{ test.test }}</span>
          <input type="text" placeholder="{{test.test}}" [(ngModel)]="test.result" />
          <!-- <span>{{ test.unit }}</span> -->
        </div>
      </div>
    </div>

    <button (click)="generateStaticHTML()" *ngIf="selectedTest" class="btn primary-btn w-100">Generate Report</button>
  </div>
</div>
